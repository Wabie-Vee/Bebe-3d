[gd_scene load_steps=17 format=3 uid="uid://0b5b81u1itr7"]

[ext_resource type="Script" uid="uid://dq1cwdafxd3cp" path="res://Player/player.gd" id="1_2grdm"]
[ext_resource type="Texture2D" uid="uid://fbmiuyig18x6" path="res://Textures/UI/CursorSelect.png" id="3_fhl08"]
[ext_resource type="Script" uid="uid://crq36hgtm6nkt" path="res://Player/Actions/PickupHandler.gd" id="4_gwnis"]
[ext_resource type="AudioStream" uid="uid://b0ltatuxb2lul" path="res://Sounds/sfx_jump2.wav" id="4_x3vf3"]
[ext_resource type="AudioStream" uid="uid://comsm8vajad2b" path="res://Sounds/sfx_footstep2.wav" id="5_apopc"]
[ext_resource type="Texture2D" uid="uid://ds70q3yx8puki" path="res://Textures/UI/Cursor.png" id="5_k53q1"]
[ext_resource type="Shader" uid="uid://dgjmjbhcx1oul" path="res://Player/player.gdshader" id="6_vtle1"]
[ext_resource type="Shader" path="res://Player/VHS.gdshader" id="8_00tjw"]
[ext_resource type="PackedScene" uid="uid://cdo0t3pr762wx" path="res://Util/DebugHUD.tscn" id="9_x3vf3"]
[ext_resource type="PackedScene" uid="uid://bdu3lfl8ecjn7" path="res://Scenes/textbox_ui.tscn" id="10_apopc"]
[ext_resource type="PackedScene" uid="uid://buw0rbqga322g" path="res://Scenes/Bebe.tscn" id="11_apopc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_h4r72"]
radius = 0.436259
height = 1.2677

[sub_resource type="QuadMesh" id="QuadMesh_od3ui"]
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_00tjw"]
render_priority = 0
shader = ExtResource("6_vtle1")
shader_parameter/enable_fog = false
shader_parameter/fog_color = Color(0.545516, 0.668754, 0.725607, 1)
shader_parameter/noise_color = Color(0, 0, 0, 1)
shader_parameter/fog_distance = 450.329
shader_parameter/fog_fade_range = 2.0
shader_parameter/enable_noise = false
shader_parameter/noise_time_fac = 5.642
shader_parameter/enable_color_limitation = true
shader_parameter/color_levels = 32
shader_parameter/enable_dithering = false
shader_parameter/dither_strength = 0.3

[sub_resource type="CapsuleMesh" id="CapsuleMesh_btcbx"]
radius = 0.556
height = 1.51

[sub_resource type="ShaderMaterial" id="ShaderMaterial_apopc"]
shader = ExtResource("8_00tjw")
shader_parameter/shake = 0.0
shader_parameter/noiseQuality = 0.1
shader_parameter/noiseIntensity = 0.0
shader_parameter/offsetIntensity = 0.0
shader_parameter/colorOffsetIntensity = 0.1
shader_parameter/pixelSize = 1.68
shader_parameter/grainIntensity = 0.0
shader_parameter/use_overlay = false
shader_parameter/use_lens_distortion = false
shader_parameter/overlay_color = Color(1, 1, 1, 10)
shader_parameter/lens_distortion_strength = 0.0

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.66933, 0)
script = ExtResource("1_2grdm")
default_reticle = ExtResource("5_k53q1")
hover_reticle = ExtResource("3_fhl08")
original_move_speed = 3
sprint_multiplier = 1.6
sfx_jump = ExtResource("4_x3vf3")
sfx_footstep = ExtResource("5_apopc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.118615, 0)
shape = SubResource("CapsuleShape3D_h4r72")

[node name="Pivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0820816, 0)

[node name="CameraPivot" type="Node3D" parent="Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.243301, 0)

[node name="CameraRig" type="Node3D" parent="Pivot/CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.170667, -0.291046)

[node name="GameCamera" type="Camera3D" parent="Pivot/CameraPivot/CameraRig"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.145604)

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Pivot/CameraPivot/CameraRig/GameCamera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.245686, -27.192)
transparency = 1.0
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_od3ui")
skeleton = NodePath("../../../../..")
surface_material_override/0 = SubResource("ShaderMaterial_00tjw")

[node name="RayCast3D" type="RayCast3D" parent="Pivot/CameraPivot/CameraRig/GameCamera"]
target_position = Vector3(0, 0, -2.97)

[node name="HoldPoint" type="Marker3D" parent="Pivot/CameraPivot/CameraRig"]
transform = Transform3D(0.753443, -0.385941, -0.532327, 0.459916, 0.887933, 0.00719721, 0.469894, -0.250248, 0.846508, 0.4928, -0.514105, -0.405394)

[node name="LookAtPoint" type="Marker3D" parent="Pivot/CameraPivot/CameraRig"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3.43659)

[node name="PlayerSFX" type="AudioStreamPlayer3D" parent="."]
unique_name_in_owner = true
bus = &"SFX"

[node name="SFXFootstep" type="AudioStreamPlayer3D" parent="."]

[node name="SFXJump" type="AudioStreamPlayer3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.23173, 0)
visible = false
mesh = SubResource("CapsuleMesh_btcbx")

[node name="PickupHandler" type="Node3D" parent="." node_paths=PackedStringArray("hold_point", "camera")]
script = ExtResource("4_gwnis")
hold_point = NodePath("../Pivot/CameraPivot/CameraRig/HoldPoint")
camera = NodePath("../Pivot/CameraPivot/CameraRig/GameCamera")

[node name="UI" type="CanvasLayer" parent="."]
layer = 2

[node name="TextureRect" type="TextureRect" parent="UI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("5_k53q1")

[node name="PostProcessing" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="PostProcessing"]
material = SubResource("ShaderMaterial_apopc")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="DebugHUD" parent="." groups=["player"] instance=ExtResource("9_x3vf3")]
layer = 2

[node name="TextboxUI" parent="." instance=ExtResource("10_apopc")]

[node name="BebePivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.998435, -0.055926, 0, 0.055926, 0.998435, 0, 0, 0)

[node name="BebeBear" parent="BebePivot" instance=ExtResource("11_apopc")]
transform = Transform3D(-1, 0, 8.74228e-08, 4.22486e-09, 0.998832, 0.0483268, -8.73207e-08, 0.0483268, -0.998832, 0, -0.651713, 0.0605456)

[node name="AnimationTree" parent="BebePivot/BebeBear" index="0"]
parameters/MoveBlend/blend_position = 0

[node name="Skeleton3D" parent="BebePivot/BebeBear/char_grp/rig" index="0"]
bones/2/position = Vector3(0, 0.041058, 0.292658)
bones/7/position = Vector3(0.101406, 0.0749676, 0.00821043)
bones/8/rotation = Quaternion(5.82946e-05, -1.15543e-05, -0.000666561, 1)
bones/9/rotation = Quaternion(-1.52715e-07, -1.92042e-08, 0.430401, 0.902638)
bones/14/position = Vector3(-5.44268e-05, 0.16666, 2.33236e-05)
bones/14/rotation = Quaternion(-0.579995, -0.289019, 0.609641, -0.456521)
bones/15/rotation = Quaternion(6.8587e-07, 0.847181, -0.531304, 1.01696e-06)
bones/23/rotation = Quaternion(-0.246231, 0.9578, -0.106381, -0.103306)
bones/24/rotation = Quaternion(5.82949e-05, -1.15556e-05, -0.000666558, 1)
bones/26/rotation = Quaternion(-0.0387334, 0.132613, -0.00518636, 0.990397)
bones/26/scale = Vector3(0.316419, 9.98793, 0.316419)
bones/27/rotation = Quaternion(-1.41985e-07, -5.25328e-09, 0.430401, 0.902638)
bones/28/rotation = Quaternion(5.83155e-05, -1.19912e-07, -0.00066654, 1)
bones/29/rotation = Quaternion(5.8261e-05, -1.15385e-05, -0.000666588, 1)
bones/30/rotation = Quaternion(-1.07607e-07, -3.90727e-08, 0.430401, 0.902638)
bones/32/position = Vector3(-0.101406, 0.0749676, 0.00820905)
bones/33/rotation = Quaternion(5.84403e-05, 1.14288e-05, 0.000666254, 1)
bones/34/rotation = Quaternion(-2.76797e-08, 7.62802e-08, -0.430401, 0.902638)
bones/35/rotation = Quaternion(5.84463e-05, 1.14694e-05, 0.000666307, 1)
bones/36/rotation = Quaternion(-5.75724e-08, 5.98833e-08, -0.430401, 0.902638)
bones/41/position = Vector3(5.43887e-05, 0.16666, 2.33256e-05)
bones/41/rotation = Quaternion(0.579995, -0.289019, 0.609642, 0.45652)
bones/42/rotation = Quaternion(-5.60712e-07, 0.847181, -0.531305, -1.12049e-06)
bones/43/rotation = Quaternion(0.579996, -0.289019, 0.609641, -0.45652)
bones/47/rotation = Quaternion(-1.96607e-07, 0.847181, -0.531305, -4.69109e-07)
bones/51/rotation = Quaternion(5.84396e-05, 1.14313e-05, 0.000666262, 1)
bones/53/rotation = Quaternion(-0.0387331, -0.132611, 0.00518636, 0.990398)
bones/53/scale = Vector3(0.316419, 9.98794, 0.316419)
bones/54/rotation = Quaternion(-3.55195e-08, 8.63915e-08, -0.430401, 0.902638)
bones/55/rotation = Quaternion(5.84606e-05, 9.2079e-08, 0.000666256, 1)
bones/64/rotation = Quaternion(-0.502253, -0.390305, 0.294475, 0.713224)
bones/65/rotation = Quaternion(-1.06134e-09, -8.6617e-08, 0.181067, 0.983471)
bones/67/rotation = Quaternion(-0.332599, -0.138661, 0.0580749, 0.931009)
bones/68/rotation = Quaternion(-0.0667515, 0.96739, -0.0768133, -0.231949)
bones/70/rotation = Quaternion(-0.502253, -0.390305, 0.294475, 0.713224)
bones/72/rotation = Quaternion(0.513419, 0.127682, 0.845033, 0.0775767)
bones/72/scale = Vector3(0.278036, 12.936, 0.278036)
bones/74/rotation = Quaternion(-0.364103, -0.323223, 0.128267, 0.864004)
bones/75/rotation = Quaternion(-1.43387e-09, -9.51397e-08, 0.181067, 0.983471)
bones/76/rotation = Quaternion(-0.574556, -0.10765, 0.0941159, 0.805878)
bones/78/rotation = Quaternion(-0.219379, -0.0638984, 0.142716, 0.963028)
bones/80/rotation = Quaternion(-0.502253, 0.390305, -0.294474, 0.713224)
bones/81/rotation = Quaternion(-5.17879e-11, -2.3183e-08, -0.181068, 0.983471)
bones/82/rotation = Quaternion(-0.502253, 0.390305, -0.294474, 0.713224)
bones/83/rotation = Quaternion(-0.541696, -0.454493, 0.541698, -0.454494)
bones/84/rotation = Quaternion(-0.513419, 0.127682, 0.845033, -0.0775765)
bones/84/scale = Vector3(0.278036, 12.936, 0.278036)
bones/86/rotation = Quaternion(-0.332599, 0.138661, -0.0580747, 0.931009)
bones/90/rotation = Quaternion(-0.364103, 0.323223, -0.128267, 0.864004)
bones/91/rotation = Quaternion(8.89141e-10, -2.89356e-08, -0.181068, 0.983471)
bones/92/rotation = Quaternion(-0.574556, 0.10765, -0.0941157, 0.805878)
bones/94/rotation = Quaternion(-0.219379, 0.0638986, -0.142716, 0.963028)
bones/103/rotation = Quaternion(0.670921, -0.401708, -0.528687, -0.330129)
bones/116/rotation = Quaternion(-0.0140674, 0.790018, 0.612654, -0.0181398)
bones/117/position = Vector3(2.00202e-16, -0.0298551, 0.658043)
bones/120/position = Vector3(-0.108333, 0.0986655, 0.187507)
bones/120/rotation = Quaternion(-0.57389, -0.293156, 0.592236, 0.4837)
bones/121/rotation = Quaternion(-2.62686e-08, 0.000101049, -1.70933e-08, 1)
bones/122/position = Vector3(0.108333, 0.0986654, 0.187507)
bones/122/rotation = Quaternion(0.57389, -0.293157, 0.592236, -0.483701)
bones/123/rotation = Quaternion(-2.36449e-08, -0.000101146, 2.18861e-08, 1)
bones/124/position = Vector3(-0.105304, 0.0698618, 0.240083)
bones/124/rotation = Quaternion(-0.39184, -0.511617, 0.326389, 0.691505)
bones/125/position = Vector3(0.105304, 0.0698617, 0.240083)
bones/125/rotation = Quaternion(-0.39184, 0.511617, -0.326389, 0.691505)
bones/126/position = Vector3(-0.241091, -0.0149956, 0.456142)
bones/126/rotation = Quaternion(-0.599298, -0.211227, 0.440415, 0.634239)
bones/127/position = Vector3(0.241091, -0.0149956, 0.456142)
bones/127/rotation = Quaternion(-0.599298, 0.211227, -0.440415, 0.634239)
bones/128/position = Vector3(-0.254983, -0.0197328, 0.412925)
bones/128/rotation = Quaternion(-0.551146, -0.316249, 0.318295, 0.703501)
bones/129/rotation = Quaternion(2.28506e-08, -0.235603, -2.11448e-08, 0.971849)
bones/130/position = Vector3(0.254983, -0.0197328, 0.412925)
bones/130/rotation = Quaternion(-0.551146, 0.316248, -0.318296, 0.7035)
bones/131/rotation = Quaternion(1.24363e-07, 0.235603, -5.65052e-08, 0.971849)
bones/132/position = Vector3(-0.254983, -0.0197328, 0.412925)
bones/132/rotation = Quaternion(-0.551146, -0.316249, 0.318295, 0.703501)
bones/133/rotation = Quaternion(0.101002, -0.234183, 0.0248672, 0.966612)
bones/135/position = Vector3(0.254983, -0.0197328, 0.412925)
bones/135/rotation = Quaternion(-0.551146, 0.316248, -0.318296, 0.7035)
bones/136/rotation = Quaternion(0.101002, 0.234183, -0.0248667, 0.966612)
bones/142/position = Vector3(0.311872, 0.457456, -0.113514)
bones/143/position = Vector3(-0.311872, 0.457456, -0.113514)
bones/146/position = Vector3(2.18004e-08, 3.19751e-08, 2.67693e-08)
bones/146/rotation = Quaternion(0.0265455, 2.80484e-06, -6.73568e-07, 0.999648)
bones/147/rotation = Quaternion(0.375688, 0.599049, -0.375691, -0.599046)
bones/148/position = Vector3(-2.04891e-08, -1.60653e-08, -1.55389e-09)
bones/148/rotation = Quaternion(-3.80634e-07, -0.707104, -3.20498e-07, 0.70711)
bones/154/rotation = Quaternion(-6.99478e-06, 0.860986, -0.508628, -1.48488e-05)
bones/157/rotation = Quaternion(-0.000542413, -1.00627e-09, 1, -3.52634e-10)
bones/159/rotation = Quaternion(0.0560987, -0.704878, 0.704878, -0.0561005)
bones/161/rotation = Quaternion(-1.1524e-07, -2.33523e-14, 1, 0)
bones/162/rotation = Quaternion(-3.30283e-13, -0.692484, -3.13309e-13, 0.721434)
bones/163/position = Vector3(0.147769, 0.0369979, 0.0385919)
bones/163/rotation = Quaternion(-0.0144829, 0.706959, 0.706958, 0.0144678)
bones/165/position = Vector3(-1.13418e-08, 3.28176e-08, 6.87404e-08)
bones/165/rotation = Quaternion(0.026545, -9.307e-06, 9.96237e-07, 0.999648)
bones/166/rotation = Quaternion(-0.375687, 0.59905, -0.375692, 0.599045)
bones/167/position = Vector3(4.56348e-08, -2.67755e-08, 7.32738e-09)
bones/167/rotation = Quaternion(-5.69328e-07, 0.707103, 4.48968e-07, 0.70711)
bones/175/rotation = Quaternion(9.33044e-08, 0.847181, -0.531305, -1.88141e-06)
bones/177/rotation = Quaternion(0.000542413, -1.00627e-09, 1, 3.54453e-10)
bones/179/rotation = Quaternion(0.707115, -2.86209e-07, -0.707098, -9.19903e-10)
bones/181/position = Vector3(0.0839684, 0.1821, 0.215944)
bones/181/rotation = Quaternion(-1.02522e-14, 0.692484, -9.84079e-15, 0.721434)
bones/182/position = Vector3(-0.264201, 0.322193, -0.00209768)
bones/182/rotation = Quaternion(-0.644002, 0.182921, 0.741556, 0.0435503)
bones/183/position = Vector3(0.264201, 0.322193, -0.00209768)
bones/183/rotation = Quaternion(0.644002, 0.182921, 0.741556, -0.0435503)
bones/187/rotation = Quaternion(-0.567684, -0.305108, 0.601744, -0.47175)
bones/188/rotation = Quaternion(-0.567678, -0.305104, 0.60175, -0.471753)
bones/189/rotation = Quaternion(-0.567681, -0.305107, 0.601747, -0.471751)
bones/190/rotation = Quaternion(-0.579996, -0.289019, 0.609641, -0.45652)
bones/192/rotation = Quaternion(-0.592685, 0.211457, 0.766147, -0.130498)

[node name="Bebe" parent="BebePivot/BebeBear/char_grp/rig/Skeleton3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.080261, 0)

[node name="LookAtHead" parent="BebePivot/BebeBear/char_grp/rig/Skeleton3D" index="1"]
target_node = NodePath("../../../../../../Pivot/CameraPivot/CameraRig/LookAtPoint")

[editable path="BebePivot/BebeBear"]
