[gd_scene load_steps=18 format=3 uid="uid://0b5b81u1itr7"]

[ext_resource type="Script" uid="uid://dq1cwdafxd3cp" path="res://Player/player.gd" id="1_2grdm"]
[ext_resource type="Texture2D" uid="uid://fbmiuyig18x6" path="res://Textures/UI/CursorSelect.png" id="3_fhl08"]
[ext_resource type="Script" uid="uid://crq36hgtm6nkt" path="res://Player/Actions/PickupHandler.gd" id="4_gwnis"]
[ext_resource type="AudioStream" uid="uid://b0ltatuxb2lul" path="res://Sounds/sfx_jump2.wav" id="4_x3vf3"]
[ext_resource type="AudioStream" uid="uid://comsm8vajad2b" path="res://Sounds/sfx_footstep2.wav" id="5_apopc"]
[ext_resource type="Texture2D" uid="uid://ds70q3yx8puki" path="res://Textures/UI/Cursor.png" id="5_k53q1"]
[ext_resource type="Texture2D" uid="uid://dtpoibqkyen8b" path="res://Textures/UI/CursorSpeak.png" id="6_5htga"]
[ext_resource type="Shader" uid="uid://dgjmjbhcx1oul" path="res://Player/player.gdshader" id="6_vtle1"]
[ext_resource type="Shader" path="res://Player/VHS.gdshader" id="8_00tjw"]
[ext_resource type="PackedScene" uid="uid://cdo0t3pr762wx" path="res://Util/DebugHUD.tscn" id="9_x3vf3"]
[ext_resource type="PackedScene" uid="uid://bdu3lfl8ecjn7" path="res://Scenes/textbox_ui.tscn" id="10_apopc"]
[ext_resource type="PackedScene" uid="uid://buw0rbqga322g" path="res://Scenes/Bebe.tscn" id="11_apopc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_h4r72"]
radius = 0.436259
height = 1.2677

[sub_resource type="QuadMesh" id="QuadMesh_od3ui"]
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_00tjw"]
render_priority = 0
shader = ExtResource("6_vtle1")
shader_parameter/enable_fog = false
shader_parameter/fog_color = Color(0.545516, 0.668754, 0.725607, 1)
shader_parameter/noise_color = Color(0, 0, 0, 1)
shader_parameter/fog_distance = 450.329
shader_parameter/fog_fade_range = 2.0
shader_parameter/enable_noise = false
shader_parameter/noise_time_fac = 5.642
shader_parameter/enable_color_limitation = true
shader_parameter/color_levels = 32
shader_parameter/enable_dithering = false
shader_parameter/dither_strength = 0.3

[sub_resource type="CapsuleMesh" id="CapsuleMesh_btcbx"]
radius = 0.556
height = 1.51

[sub_resource type="ShaderMaterial" id="ShaderMaterial_apopc"]
shader = ExtResource("8_00tjw")
shader_parameter/shake = 0.0
shader_parameter/noiseQuality = 0.1
shader_parameter/noiseIntensity = 0.0
shader_parameter/offsetIntensity = 0.0
shader_parameter/colorOffsetIntensity = 0.1
shader_parameter/pixelSize = 1.68
shader_parameter/grainIntensity = 0.0
shader_parameter/use_overlay = false
shader_parameter/use_lens_distortion = false
shader_parameter/overlay_color = Color(1, 1, 1, 10)
shader_parameter/lens_distortion_strength = 0.0

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.66933, 0)
script = ExtResource("1_2grdm")
original_move_speed = 3
sprint_multiplier = 1.6
sfx_jump = ExtResource("4_x3vf3")
sfx_footstep = ExtResource("5_apopc")
cursor_default = ExtResource("5_k53q1")
cursor_select = ExtResource("3_fhl08")
cursor_speak = ExtResource("6_5htga")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.118615, 0)
shape = SubResource("CapsuleShape3D_h4r72")

[node name="Pivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0820816, 0)

[node name="CameraPivot" type="Node3D" parent="Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.243301, 0)

[node name="CameraRig" type="Node3D" parent="Pivot/CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.170667, -0.291046)

[node name="GameCamera" type="Camera3D" parent="Pivot/CameraPivot/CameraRig"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0601124, 0.00517407)

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Pivot/CameraPivot/CameraRig/GameCamera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.245686, -27.192)
transparency = 1.0
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_od3ui")
skeleton = NodePath("../../../../..")
surface_material_override/0 = SubResource("ShaderMaterial_00tjw")

[node name="RayCast3D" type="RayCast3D" parent="Pivot/CameraPivot/CameraRig/GameCamera"]
target_position = Vector3(0, 0, -1.51)

[node name="HoldPoint" type="Marker3D" parent="Pivot/CameraPivot/CameraRig/GameCamera"]
transform = Transform3D(0.753443, -0.385941, -0.532327, 0.459916, 0.887933, 0.00719721, 0.469894, -0.250248, 0.846508, 0.4928, -0.453993, -0.410568)

[node name="LookAtPoint" type="Marker3D" parent="Pivot/CameraPivot/CameraRig"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3.43659)

[node name="PlayerSFX" type="AudioStreamPlayer3D" parent="."]
unique_name_in_owner = true
bus = &"SFX"

[node name="SFXFootstep" type="AudioStreamPlayer3D" parent="."]

[node name="SFXJump" type="AudioStreamPlayer3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.23173, 0)
visible = false
mesh = SubResource("CapsuleMesh_btcbx")

[node name="PickupHandler" type="Node3D" parent="." node_paths=PackedStringArray("hold_point", "camera")]
script = ExtResource("4_gwnis")
hold_point = NodePath("../Pivot/CameraPivot/CameraRig/GameCamera/HoldPoint")
camera = NodePath("../Pivot/CameraPivot/CameraRig/GameCamera")

[node name="UI" type="CanvasLayer" parent="."]
layer = 2

[node name="TextureRect" type="TextureRect" parent="UI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("5_k53q1")

[node name="PostProcessing" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="PostProcessing"]
material = SubResource("ShaderMaterial_apopc")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="DebugHUD" parent="." groups=["player"] instance=ExtResource("9_x3vf3")]
layer = 2

[node name="TextboxUI" parent="." instance=ExtResource("10_apopc")]

[node name="BebePivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.998435, -0.055926, 0, 0.055926, 0.998435, 0, 0, 0)

[node name="BebeBear" parent="BebePivot" instance=ExtResource("11_apopc")]
transform = Transform3D(-1, 0, 8.74228e-08, 4.22486e-09, 0.998832, 0.0483268, -8.73207e-08, 0.0483268, -0.998832, 0, -0.651713, 0.0605456)

[node name="AnimationTree" parent="BebePivot/BebeBear" index="0"]
parameters/MoveBlend/blend_position = 9.00634

[node name="Skeleton3D" parent="BebePivot/BebeBear/char_grp/rig" index="0"]
bones/2/position = Vector3(0, 0.041058, 0.322815)
bones/7/position = Vector3(0.101351, 0.132263, -0.0153007)
bones/8/rotation = Quaternion(-0.12312, 0.0652915, 0.550597, 0.823056)
bones/9/rotation = Quaternion(-9.7679e-08, -1.03318e-07, 0.00321934, 0.999995)
bones/14/position = Vector3(-0.18033, 0.194889, -0.0372782)
bones/14/rotation = Quaternion(-0.175009, -0.525236, 0.279193, -0.78457)
bones/15/rotation = Quaternion(0.0506578, 0.990798, -0.0835679, -0.09365)
bones/24/rotation = Quaternion(-0.12312, 0.0652915, 0.550597, 0.823057)
bones/26/rotation = Quaternion(0.163467, 0.120544, 0.02008, 0.978951)
bones/26/scale = Vector3(0.308281, 10.5765, 0.308281)
bones/27/rotation = Quaternion(-8.35052e-08, -1.08157e-07, 0.00321937, 0.999995)
bones/28/rotation = Quaternion(-0.0792683, 5.17467e-09, 0.55862, 0.825627)
bones/29/rotation = Quaternion(-0.12312, 0.0652915, 0.550597, 0.823056)
bones/30/rotation = Quaternion(-6.92154e-08, -8.37174e-08, 0.00321934, 0.999995)
bones/32/position = Vector3(-0.101406, 0.0675723, -0.0640382)
bones/33/rotation = Quaternion(0.0306348, -0.00351773, 0.0197334, 0.99933)
bones/34/rotation = Quaternion(2.69168e-08, 8.14305e-08, -0.212489, 0.977164)
bones/35/rotation = Quaternion(0.0306349, -0.0035177, 0.0197335, 0.99933)
bones/36/rotation = Quaternion(-5.1017e-08, 5.714e-08, -0.212489, 0.977164)
bones/41/position = Vector3(-0.0782511, 0.13848, 0.0161263)
bones/41/rotation = Quaternion(0.597904, -0.261345, 0.61408, 0.443977)
bones/42/rotation = Quaternion(-0.00892577, 0.885152, -0.465149, 0.0078385)
bones/43/rotation = Quaternion(0.579996, -0.289019, 0.609641, -0.45652)
bones/51/rotation = Quaternion(0.0306348, -0.00351773, 0.0197334, 0.99933)
bones/53/rotation = Quaternion(-0.00339224, -0.116216, 0.00198189, 0.993216)
bones/53/scale = Vector3(0.271704, 13.8327, 0.271704)
bones/54/rotation = Quaternion(3.43657e-08, 8.34177e-08, -0.212488, 0.977164)
bones/55/rotation = Quaternion(0.0308811, 8.1209e-08, 0.0198168, 0.999327)
bones/64/rotation = Quaternion(-0.3861, -0.440006, 0.127175, 0.800717)
bones/65/rotation = Quaternion(-4.00302e-08, -9.0419e-08, 0.515669, 0.856788)
bones/67/rotation = Quaternion(-0.242109, -0.143415, -0.000791489, 0.959591)
bones/68/rotation = Quaternion(-0.0667515, 0.96739, -0.0768134, -0.231949)
bones/70/rotation = Quaternion(-0.3861, -0.440006, 0.127175, 0.800717)
bones/72/rotation = Quaternion(0.520211, -0.0810199, 0.848759, -0.049246)
bones/72/scale = Vector3(0.34096, 8.66712, 0.34096)
bones/74/rotation = Quaternion(-0.250834, -0.34537, -0.0636591, 0.902081)
bones/75/rotation = Quaternion(-3.88641e-08, -7.45365e-08, 0.515669, 0.856788)
bones/76/rotation = Quaternion(-0.406846, -0.167374, -0.000552977, 0.898032)
bones/80/rotation = Quaternion(-0.3861, 0.440006, -0.127175, 0.800717)
bones/81/rotation = Quaternion(-1.03322e-08, -3.23747e-08, -0.515669, 0.856788)
bones/82/rotation = Quaternion(-0.3861, 0.440006, -0.127175, 0.800717)
bones/83/rotation = Quaternion(-0.541696, -0.454493, 0.541698, -0.454494)
bones/84/rotation = Quaternion(-0.520211, -0.08102, 0.848759, 0.0492462)
bones/84/scale = Vector3(0.34096, 8.66712, 0.34096)
bones/86/rotation = Quaternion(-0.242109, 0.143416, 0.000791608, 0.959591)
bones/90/rotation = Quaternion(-0.250834, 0.34537, 0.0636592, 0.902081)
bones/91/rotation = Quaternion(-1.87318e-08, -2.86511e-08, -0.515669, 0.856788)
bones/92/rotation = Quaternion(-0.406846, 0.167374, 0.000553044, 0.898032)
bones/117/position = Vector3(2.00202e-16, -0.0298551, 0.688199)
bones/120/position = Vector3(-0.118458, -0.0122716, 0.174736)
bones/120/rotation = Quaternion(-0.711486, -0.197676, 0.562265, 0.37225)
bones/121/rotation = Quaternion(3.58959e-09, -0.0589183, -2.00929e-08, 0.998263)
bones/122/position = Vector3(0.113927, 0.17407, 0.232243)
bones/122/rotation = Quaternion(0.461719, -0.419768, 0.470715, -0.623729)
bones/123/rotation = Quaternion(-2.66704e-08, 0.000411501, -6.11637e-08, 1)
bones/124/position = Vector3(-0.110339, 0.0261488, 0.220128)
bones/124/rotation = Quaternion(-0.710828, -0.20003, 0.56103, 0.374108)
bones/125/position = Vector3(0.108101, 0.143687, 0.281227)
bones/125/rotation = Quaternion(-0.361844, 0.50632, -0.327241, 0.711071)
bones/126/position = Vector3(-0.25222, -0.0282487, 0.496388)
bones/126/rotation = Quaternion(-0.578243, -0.086838, 0.604633, 0.540845)
bones/127/position = Vector3(0.25222, -0.0282487, 0.496388)
bones/127/rotation = Quaternion(-0.578243, 0.0868378, -0.604633, 0.540845)
bones/128/position = Vector3(-0.277414, -0.0464876, 0.4631)
bones/128/rotation = Quaternion(-0.450892, -0.371962, 0.238755, 0.775459)
bones/129/rotation = Quaternion(-1.52324e-07, -0.130061, -8.13411e-08, 0.991506)
bones/130/position = Vector3(0.277414, -0.0464876, 0.4631)
bones/130/rotation = Quaternion(-0.450892, 0.371962, -0.238755, 0.775459)
bones/131/rotation = Quaternion(1.31144e-07, 0.13006, -1.04472e-07, 0.991506)
bones/132/position = Vector3(-0.277414, -0.0464876, 0.4631)
bones/132/rotation = Quaternion(-0.450892, -0.371962, 0.238755, 0.775459)
bones/133/rotation = Quaternion(-0.0448504, -0.129915, 0.229132, 0.963644)
bones/135/position = Vector3(0.277414, -0.0464876, 0.4631)
bones/135/rotation = Quaternion(-0.450892, 0.371962, -0.238755, 0.775459)
bones/136/rotation = Quaternion(-0.0448503, 0.129916, -0.229132, 0.963644)
bones/142/position = Vector3(0.311872, 0.487612, -0.113514)
bones/143/position = Vector3(-0.311872, 0.487612, -0.113514)
bones/144/position = Vector3(-0.147769, 0.064905, 0.197482)
bones/144/rotation = Quaternion(0.0157826, 0.780233, 0.62516, -0.0127365)
bones/146/position = Vector3(-1.4605e-08, -3.89271e-08, 2.12245e-09)
bones/146/rotation = Quaternion(-0.0497266, 0.00221299, -0.0116722, 0.998692)
bones/147/rotation = Quaternion(0.309716, 0.666557, -0.358931, -0.575279)
bones/148/position = Vector3(-2.8968e-08, -1.86843e-08, 1.41875e-08)
bones/148/rotation = Quaternion(-3.55947e-07, -0.707105, -3.61268e-07, 0.707109)
bones/154/rotation = Quaternion(-6.99574e-06, 0.860986, -0.508628, -1.48435e-05)
bones/157/rotation = Quaternion(-0.000542412, -9.46344e-09, 1, -7.50124e-10)
bones/159/rotation = Quaternion(0.0560987, -0.704878, 0.704878, -0.0561005)
bones/160/rotation = Quaternion(-0.707103, -2.81551e-07, 0.707111, -5.24428e-09)
bones/161/rotation = Quaternion(-1.15945e-07, 6.98469e-10, 1, -7.28814e-09)
bones/162/position = Vector3(-0.084051, 0.236694, 0.332414)
bones/162/rotation = Quaternion(-0.079057, -0.688437, 0.0760167, 0.716956)
bones/163/position = Vector3(0.147769, 0.0134703, -0.150263)
bones/163/rotation = Quaternion(-0.0114886, 0.561054, 0.827526, 0.0169149)
bones/165/position = Vector3(0.00578238, 0.0160021, 0.0442577)
bones/165/rotation = Quaternion(-0.431998, -0.0548749, 0.0912446, 0.895567)
bones/166/rotation = Quaternion(-0.0297811, 0.760241, -0.0847384, 0.643402)
bones/167/position = Vector3(-0.000154734, 0.00610025, -0.000540055)
bones/167/rotation = Quaternion(0.00612851, 0.715169, 0.00335457, 0.698917)
bones/175/rotation = Quaternion(9.44818e-08, 0.847181, -0.531305, -1.88145e-06)
bones/177/rotation = Quaternion(0.000542412, -1.67044e-08, 1, -1.77272e-10)
bones/179/rotation = Quaternion(0.707115, -2.86869e-07, -0.707098, -1.24739e-09)
bones/181/position = Vector3(0.0839753, 0.0824402, 0.0676588)
bones/181/rotation = Quaternion(0.135957, 0.68009, 0.130516, 0.70849)
bones/182/position = Vector3(-0.280636, 0.381896, -0.00209765)
bones/182/rotation = Quaternion(-0.577161, 0.0710818, 0.811407, 0.0587428)
bones/183/position = Vector3(0.280636, 0.381896, -0.00209765)
bones/183/rotation = Quaternion(0.577161, 0.0710818, 0.811407, -0.0587428)

[node name="Bebe" parent="BebePivot/BebeBear/char_grp/rig/Skeleton3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.080261, 0)

[node name="LookAtHead" parent="BebePivot/BebeBear/char_grp/rig/Skeleton3D" index="1"]
target_node = NodePath("../../../../../../Pivot/CameraPivot/CameraRig/LookAtPoint")

[editable path="BebePivot/BebeBear"]
